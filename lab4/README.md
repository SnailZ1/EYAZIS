# Система Машинного Перевода (Лабораторная работа №4)

Это приложение представляет собой систему машинного перевода с английского на русский язык, включающую функции морфологического и синтаксического анализа, а также ведение частотного словаря.

## Описание

Программа разработана на языке Python с использованием графического интерфейса `tkinter`. Она позволяет загружать английский текст, автоматически переводить его, анализировать структуру предложений и сохранять накопленные знания (переводы слов и их частоту) в локальной базе данных.

## Основные Возможности

1.  **Машинный Перевод**:
    *   Пословный перевод текста с английского на русский.
    *   Использование API Google Translate для новых слов.
    *   **Кэширование**: Уже переведенные слова сохраняются в локальную базу данных SQLite. При повторном появлении слова перевод берется из базы, что ускоряет работу и позволяет работать частично оффлайн (для знакомых слов).
    *   Устойчивость к сбоям сети (автоматические повторные попытки при ошибках подключения).

2.  **Морфологический Анализ и Статистика**:
    *   Определение частей речи (POS-tagging) для каждого слова (существительное, глагол, прилагательное и т.д.).
    *   Подсчет частоты встречаемости слов в тексте.
    *   Вывод сводной таблицы статистики (Слово | Перевод | Часть речи | Описание | Частота).

3.  **Синтаксический Энализ**:
    *   Построение синтаксического дерева для выбранного предложения.
    *   Визуализация структуры предложения в виде скобочной записи (Chunking).

4.  **Управление Словарем**:
    *   Просмотр всего накопленного словаря в базе данных.
    *   Сортировка слов по глобальной частоте встречаемости.
    *   Возможность вручную редактировать переводы и теги частей речи в базе данных.

## Как это работает (Технические детали)

### 1. Обработка текста (`nlp_engine.py`)
Процесс обработки запускается в отдельном потоке, чтобы не блокировать интерфейс:
*   **Токенизация**: Текст разбивается на предложения (`sent_tokenize`), а предложения — на слова (`word_tokenize`) с помощью библиотеки `NLTK`.
*   **POS-теггинг**: Определяются части речи для каждого слова.
*   **Перевод**:
    *   Сначала программа ищет слово в локальной БД (`dictionary.db`).
    *   Если слова нет, делается запрос к Google Translate API (`deep_translator`).
    *   Новое слово и его перевод сохраняются в БД.
*   **Сбор статистики**: Подсчитывается количество уникальных слов и их частота в текущем тексте.

### 2. База Данных (`db_manager.py`)
Используется SQLite (`dictionary.db`) с одной таблицей `dictionary`:
*   `word_en`: Английское слово (уникальное поле).
*   `word_ru`: Русским перевод.
*   `pos_tag`: Тег части речи.
*   `frequency`: Глобальный счетчик встречаемости слова за все время использования программы.

### 3. Интерфейс (`main.py`)
Многооконный интерфейс на `tkinter`:
*   **Вкладка "Перевод"**: Загрузка текста, кнопка запуска и просмотр результата.
*   **Вкладка "Статистика слов"**: Таблица с результатами анализа текущего текста.
*   **Вкладка "Синтаксис"**: Выбор предложения и просмотр его дерева разбора.
*   **Вкладка "Словарь БД"**: Администрирование накопленной базы знаний.

## Установка и Запуск

### Требования
Для работы требуются следующие библиотеки:
*   `nltk`
*   `deep-translator`

### Установка зависимостей
```bash
pip install nltk deep-translator
```
*При первом запуске программа автоматически попытается загрузить необходимые модели NLTK (`punkt`, `averaged_perceptron_tagger`, `maxent_ne_chunker`, `words`).*

### Запуск
```bash
python main.py
```

## Использование

1.  **Загрузка**: Нажмите "Файл" -> "Открыть файл..." или кнопку "Загрузить из TXT" во вкладке "Перевод". Выберите текстовый файл с английским текстом.
2.  **Перевод**: Нажмите кнопку **"ПЕРЕВЕСТИ"**. Дождитесь завершения (статус "Готово").
3.  **Анализ**:
    *   Перейдите на вкладку **"Статистика слов"**, чтобы увидеть детальный разбор.
    *   Перейдите на вкладку **"Синтаксис"**, выберите предложение из списка, чтобы увидеть его структуру.
4.  **Словарь**: Во вкладке **"Словарь БД"** можно увидеть все сохраненные слова. Выделите строку и нажмите "Редактировать выделенное", если хотите исправить автоматический перевод.
5.  **Сохранение**: Нажмите "Файл" -> "Сохранить результаты...", чтобы выгрузить исходный текст, перевод и статистику в текстовый файл.
